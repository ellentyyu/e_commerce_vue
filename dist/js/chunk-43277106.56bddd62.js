(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43277106"],{"7cb4":function(e,t,c){"use strict";c.r(t);c("b0c0");var s=c("7a23"),a=Object(s["h"])("div",null,null,-1),l={class:"pt-9 pb-6 order-bg-lightgray container-fluid container-custom"},o={class:"order-three-sqs mb-6"},r={class:"row"},b=Object(s["h"])("div",{class:"col-4"},[Object(s["h"])("div",{class:"sq-item"},[Object(s["h"])("p",null,"STEP 1"),Object(s["h"])("p",null,"確認訂單")])],-1),i={class:"col-4"},n=Object(s["h"])("p",null,"STEP 2",-1),d=Object(s["h"])("p",null,"建立訂單",-1),O=[n,d],j={class:"col-4"},h=Object(s["h"])("p",null,"STEP 3",-1),u=Object(s["h"])("p",null,"完成訂單",-1),p=[h,u],f={key:0,class:"payment-success row justify-content-center mb-5"},m=Object(s["h"])("div",{class:"col-12 col-md-6"},[Object(s["h"])("div",{class:"payment-success-bg py-5"},[Object(s["h"])("div",{class:"text-center mb-4"},[Object(s["h"])("h2",{class:"mb-1 fs-5 fw-bold ls-1"},"感謝您的訂購"),Object(s["h"])("p",{class:"fw-bold ls-1"},[Object(s["j"])("訂單為您盡速處理中"),Object(s["h"])("i",{class:"ms-2 fas fa-shipping-fast"})])]),Object(s["h"])("div",{class:"d-flex justify-content-center"},[Object(s["h"])("a",{href:"#",class:"col-5 col-sm-3 mx-3 btn-back-home"},"回到首頁"),Object(s["h"])("a",{href:"#/products",class:"col-5 col-sm-3 mx-3 btn-back-shop"},"繼續逛逛")])])],-1),g=[m],v={class:"order-placed row justify-content-center"},w={class:"col-12 col-md-6"},y={key:0},x=Object(s["h"])("h1",{class:"header"},"訂購資訊",-1),k={class:"order-details px-1 px-sm-0"},M={class:"d-flex mb-3"},S=Object(s["h"])("p",{class:"col-4 fw-bold"},"下單日期：",-1),T={class:"d-flex mb-3"},_=Object(s["h"])("p",{class:"col-4 fw-bold"},"訂單編號：",-1),B={class:"text-break"},L={class:"d-flex mb-3"},J=Object(s["h"])("p",{class:"col-4 fw-bold"},"顧客姓名：",-1),$={class:"d-flex mb-3"},q=Object(s["h"])("p",{class:"col-4 fw-bold"},"聯絡電話：",-1),I={class:"d-flex mb-3"},D=Object(s["h"])("p",{class:"col-4 fw-bold"},"電子郵件：",-1),E={class:"text-break"},H={class:"d-flex mb-3"},P=Object(s["h"])("p",{class:"col-4 fw-bold"},"收件地址：",-1),C={key:0,class:"d-flex mb-3"},F=Object(s["h"])("p",{class:"col-4 fw-bold"},"備註：",-1),N={class:"d-flex mb-3 align-items-center"},Y=Object(s["h"])("p",{class:"col-4 fw-bold"},"訂單金額：",-1),V=Object(s["h"])("p",{class:"fw-bold mb-3"},"訂單明細：",-1),X={class:"px-2 px-sm-4"},z={class:"col-auto d-none d-ss-block"},A={class:"col"},G={class:"mb-1"},K={class:""},Q={class:"col-auto col-sm-3"},R={class:""},U={class:"d-flex mb-3"},W=Object(s["h"])("p",{class:"col-4 fw-bold"},"付款狀態：",-1),Z={key:0,class:"text-primary"},ee={key:1,class:"text-success"};function te(e,t,c,n,d,h){var u=Object(s["J"])("Loading"),m=Object(s["J"])("ToastMessages"),te=Object(s["J"])("Layout"),ce=Object(s["J"])("ScrollTop");return Object(s["B"])(),Object(s["g"])(s["a"],null,[a,Object(s["k"])(u,{active:d.isLoading},null,8,["active"]),Object(s["k"])(m),Object(s["k"])(te,{ref:"layout"},{default:Object(s["V"])((function(){return[Object(s["h"])("div",l,[Object(s["h"])("section",o,[Object(s["h"])("div",r,[b,Object(s["h"])("div",i,[Object(s["h"])("div",{class:Object(s["s"])(["sq-item",{active:!d.order.is_paid}])},O,2)]),Object(s["h"])("div",j,[Object(s["h"])("div",{class:Object(s["s"])(["sq-item",{active:d.order.is_paid}])},p,2)])])]),d.order.is_paid?(Object(s["B"])(),Object(s["g"])("section",f,g)):Object(s["f"])("",!0),Object(s["h"])("section",v,[Object(s["h"])("div",w,[d.order.user?(Object(s["B"])(),Object(s["g"])("div",y,[x,Object(s["h"])("ul",k,[Object(s["h"])("li",M,[S,Object(s["h"])("p",null,Object(s["M"])(d.order.create_at),1)]),Object(s["h"])("li",T,[_,Object(s["h"])("p",B,Object(s["M"])(d.order.id),1)]),Object(s["h"])("li",L,[J,Object(s["h"])("p",null,Object(s["M"])(d.order.user.name),1)]),Object(s["h"])("li",$,[q,Object(s["h"])("p",null,Object(s["M"])(d.order.user.tel),1)]),Object(s["h"])("li",I,[D,Object(s["h"])("p",E,Object(s["M"])(d.order.user.email),1)]),Object(s["h"])("li",H,[P,Object(s["h"])("p",null,Object(s["M"])(d.order.user.address),1)]),d.order.message?(Object(s["B"])(),Object(s["g"])("li",C,[F,Object(s["h"])("p",null,Object(s["M"])(d.order.message),1)])):Object(s["f"])("",!0),Object(s["h"])("li",null,[Object(s["h"])("div",N,[Y,Object(s["h"])("p",null,"NT$ "+Object(s["M"])(h.currency(d.order.total)),1),Object(s["h"])("a",{href:"#",class:Object(s["s"])(["ms-4 px-3 fs-5 fas fa-chevron-circle-down",{show:d.isShow}]),onClick:t[0]||(t[0]=Object(s["Y"])((function(e){return d.isShow=!d.isShow}),["prevent"]))},null,2)]),Object(s["h"])("div",{class:"products-details",ref:"details",style:Object(s["t"])(h.detailsHeight)},[V,Object(s["h"])("ul",X,[(Object(s["B"])(!0),Object(s["g"])(s["a"],null,Object(s["H"])(d.order.products,(function(e){return Object(s["B"])(),Object(s["g"])("li",{key:e.id,class:"mb-3 row g-3 align-items-center"},[Object(s["h"])("div",z,[Object(s["h"])("div",{class:"bg-cover order-img",style:Object(s["t"])("background-image:url(".concat(e.product.images[0],");"))},null,4)]),Object(s["h"])("div",A,[Object(s["h"])("p",G,Object(s["M"])(e.product.title),1),Object(s["h"])("p",K,"數量 : "+Object(s["M"])(e.qty),1)]),Object(s["h"])("div",Q,[Object(s["h"])("p",R,"NT$ "+Object(s["M"])(h.currency(e.total)),1)])])})),128))])],4)]),Object(s["h"])("li",U,[W,d.order.is_paid?Object(s["f"])("",!0):(Object(s["B"])(),Object(s["g"])("p",Z,"尚未付款")),d.order.is_paid?(Object(s["B"])(),Object(s["g"])("p",ee,"付款成功")):Object(s["f"])("",!0)])]),d.order.is_paid?Object(s["f"])("",!0):(Object(s["B"])(),Object(s["g"])("button",{key:0,type:"button",class:"btn btn-payment w-100 mt-3",onClick:t[1]||(t[1]=function(){return h.payOrder&&h.payOrder.apply(h,arguments)})},"確認結帳"))])):Object(s["f"])("",!0)])])])]})),_:1},512),Object(s["k"])(ce)],64)}c("99af");var ce=c("7fd9"),se=c("f367"),ae=c("9bb9"),le={components:{ScrollTop:ce["a"],ToastMessages:se["a"]},inject:["pushMessagesState"],data:function(){return{isShow:!1,isLoading:!1,order:{}}},methods:{currency:ae["a"],getOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("a93a93","/order/").concat(this.orderId);this.isLoading=!0,this.$http.get(t).then((function(t){e.isLoading=!1,t.data.success&&(e.order=t.data.order,e.order.total=Math.round(e.order.total),e.order.create_at=e.processDate(e.order.create_at))}))},processDate:function(e){var t=new Date(1e3*e),c=t.getFullYear(),s=t.getMonth()+1,a=t.getDate();return"".concat(c,"-").concat(s,"-").concat(a)},payOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("a93a93","/pay/").concat(this.orderId);this.isLoading=!0,this.$http.post(t).then((function(t){e.isLoading=!1,e.pushMessagesState(t,t.data.message),t.data.success&&(e.getOrder(),window.scrollTo({top:0,behavior:"smooth"}))}))}},computed:{detailsHeight:function(){return{"max-height":this.isShow?"".concat(this.$refs.details.scrollHeight,"px"):"0"}},orderId:function(){return this.$route.params.orderId}},created:function(){this.getOrder()}},oe=c("6b0d"),re=c.n(oe);const be=re()(le,[["render",te]]);t["default"]=be},b0c0:function(e,t,c){var s=c("83ab"),a=c("5e77").EXISTS,l=c("e330"),o=c("9bf2").f,r=Function.prototype,b=l(r.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,n=l(i.exec),d="name";s&&!a&&o(r,d,{configurable:!0,get:function(){try{return n(i,b(this))[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-43277106.56bddd62.js.map