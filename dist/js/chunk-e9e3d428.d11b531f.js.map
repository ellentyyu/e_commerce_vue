{"version":3,"sources":["webpack:///./src/views/ProductsAdmin.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?f7e1","webpack:///./src/views/ProductsAdmin.vue?d4dd","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","style","width","active","isLoading","type","openModal","products","item","key","id","category","title","currency","origin_price","price","is_enabled","openDelModal","pages","pagination","getProducts","ref","product","tempProduct","updateProduct","delItem","delProduct","deleteProduct","tabindex","aria-labelledby","aria-hidden","role","data-bs-dismiss","aria-label","for","imageUrl","placeholder","uploadFile","images","src","alt","image","splice","push","unit","description","content","true-value","false-value","$emit","mixins","modalMixin","props","Object","default","watch","this","data","modal","methods","uploadedFile","$refs","fileInput","files","formData","FormData","append","api","$http","post","then","res","success","__exports__","isNew","components","ProductModal","DelModal","Pagination","inject","page","get","productModal","showModal","httpMethod","productComponent","hideModal","pushMessagesState","current_page","delModal","delete","created","render","$","global","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","TypeError","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","arguments","length","DESCRIPTORS","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","SymbolPrototype","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","result","constructor","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","symbol","string","desc"],"mappings":"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","file":"js/chunk-e9e3d428.d11b531f.js","sourcesContent":["<template>\r\n  <div class=\"admin-products admin-table pt-4 pb-5\" style=\"margin-left:-12px; margin-right:-12px\">\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <div class=\"d-flex flex-column h-100\">\r\n      <div class=\"text-end mb-3\">\r\n        <button class=\"btn btn-custom-primary-rounded\" type=\"button\" @click=\"openModal(true)\">\r\n          <i class=\"fas fa-plus\"></i>\r\n          增加一個產品\r\n        </button>\r\n      </div>\r\n      <table class=\"table mb-auto\">\r\n        <thead>\r\n          <tr>\r\n            <th width=\"80\" class=\"d-none d-md-table-cell\">分類</th>\r\n            <th>產品</th>\r\n            <th class=\"column-price\">原價</th>\r\n            <th class=\"column-price\">售價</th>\r\n            <th width=\"\">啟用</th>\r\n            <th class=\"column-edit\">編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in products\" :key=\"item.id\">\r\n            <td class=\"d-none d-md-table-cell\">{{ item.category }}</td>\r\n            <td>{{ item.title }}</td>\r\n            <td>{{ currency(item.origin_price) }}</td>\r\n            <td>{{ currency(item.price) }}</td>\r\n            <td>\r\n              <span class=\"text-success\" v-if=\"item.is_enabled\"><i class=\"fas fa-check\"></i></span>\r\n              <span class=\"text-muted\" v-else><i class=\"fas fa-times\"></i></span>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <button class=\"btn btn-outline-success btn-sm\" @click=\"openModal(false, item)\">編輯</button>\r\n                <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDelModal(item)\">刪除</button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <Pagination class=\"mt-4\" :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n    </div>\r\n    \r\n    <ProductModal ref=\"productModal\" :product=\"tempProduct\" @update-product=\"updateProduct\"></ProductModal>\r\n    <DelModal ref=\"delModal\" :delItem=\"delProduct\" @delete-item=\"deleteProduct\"></DelModal>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport ProductModal from '@/components/ProductModal.vue'\r\nimport DelModal from '@/components/DelModal.vue'\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport {currency} from '@/methods/filters' // 匯入具名函式\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      pagination: {},\r\n      tempProduct: {},\r\n      delProduct: {},\r\n      isNew: false,\r\n      isLoading: false,\r\n    };\r\n  },\r\n  components:{\r\n    ProductModal,\r\n    DelModal,\r\n    Pagination\r\n  },\r\n  inject: ['pushMessagesState'],\r\n  methods: {\r\n    currency,\r\n    getProducts(page=1) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`;\r\n      this.isLoading = true;\r\n      this.$http.get(api)\r\n      .then((res) => {\r\n        this.isLoading = false;\r\n        if (res.data.success) {\r\n          this.products = res.data.products;\r\n          this.pagination = res.data.pagination;\r\n        }\r\n      });\r\n    },\r\n    openModal(isNew, item){\r\n      //打開modal 用是否為新品來決定modal中顯示內容\r\n      if (isNew) {\r\n        this.tempProduct = {};\r\n      }else{\r\n        this.tempProduct = { ...item };\r\n      }\r\n      this.isNew = isNew;\r\n      this.$refs.productModal.showModal();\r\n    },\r\n    updateProduct(item){\r\n      this.tempProduct = item;\r\n      //新增\r\n      let api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`;\r\n      let httpMethod = 'post';\r\n      //編輯\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\r\n        httpMethod = 'put';\r\n      }\r\n      const productComponent = this.$refs.productModal;\r\n      this.$http[httpMethod](api, {data : this.tempProduct})\r\n      .then((res) => {\r\n        productComponent.hideModal();\r\n        this.pushMessagesState(res);\r\n        if (res.data.success) {\r\n          this.getProducts(this.pagination.current_page);\r\n        }\r\n      });\r\n    },\r\n    openDelModal(item){\r\n      this.delProduct = { ...item };\r\n      this.$refs.delModal.showModal();\r\n    },\r\n    deleteProduct(){\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.delProduct.id}`;\r\n      this.$http.delete(api)\r\n      .then((res) => {\r\n        if(res.data.success){\r\n          this.$refs.delModal.hideModal();\r\n          this.pushMessagesState(res);\r\n          this.getProducts(this.pagination.current_page);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created(){\r\n     this.getProducts();\r\n  }\r\n};\r\n</script>","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"productModal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"productModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"productModalLabel\">\r\n            <span>新增產品</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-4\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"image\"\r\n                  v-model=\"tempProduct.imageUrl\"\r\n                  placeholder=\"請輸入圖片連結\"\r\n                />\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"customFile\" class=\"form-label\"\r\n                  >或 上傳圖片\r\n                  <i class=\"fas fa-spinner fa-spin\"></i>\r\n                </label>\r\n                <input type=\"file\" id=\"customFile\" class=\"form-control\" ref=\"fileInput\" @change=\"uploadFile\"/>\r\n              </div>\r\n              <template v-if=\"tempProduct.images\">\r\n                <img class=\"img-fluid mb-5\" :src=\"tempProduct.images[0]\" alt=\"product image\" v-if=\"tempProduct.images[0] && tempProduct[0] !== ''\" />\r\n              </template>\r\n\r\n\r\n              <!-- 延伸技巧，多圖 -->\r\n              <h6 class=\"mb-3\">上傳多張圖片</h6>\r\n              <div v-if=\"tempProduct.images\">\r\n                <div v-for=\"(image, key) in tempProduct.images\" class=\"mb-3 input-group\" :key=\"key\">\r\n                  <input\r\n                    type=\"url\"\r\n                    class=\"form-control form-control\"\r\n                    v-model=\"tempProduct.images[key]\"\r\n                    placeholder=\"請輸入連結\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-outline-danger\"\r\n                    @click=\"tempProduct.images.splice(key, 1)\"\r\n                  >\r\n                    移除\r\n                  </button>\r\n                </div>\r\n                <!-- 按鈕只在陣列最後一筆有資料(已放入網址) 和 陣列為空 時顯示 -->\r\n                <div\r\n                  v-if=\"\r\n                    tempProduct.images[tempProduct.images.length - 1] || !tempProduct.images.length\r\n                  \"\r\n                >\r\n                  <button\r\n                    class=\"btn btn-custom-primary-rounded d-block w-100\"\r\n                    @click=\"tempProduct.images.push('')\"\r\n                  >\r\n                    新增圖片\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-8\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"title\" class=\"form-label\">標題</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"title\"\r\n                  v-model=\"tempProduct.title\"\r\n                  placeholder=\"請輸入標題\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"category\" class=\"form-label\">分類</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"category\"\r\n                    v-model=\"tempProduct.category\"\r\n                    placeholder=\"請輸入分類\"\r\n                  />\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"unit\" class=\"form-label\">單位</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"unit\"\r\n                    v-model=\"tempProduct.unit\"\r\n                    placeholder=\"請輸入單位\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    class=\"form-control\"\r\n                    id=\"origin_price\"\r\n                    v-model.number=\"tempProduct.origin_price\"\r\n                    placeholder=\"請輸入原價\"\r\n                  />\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"price\" class=\"form-label\">售價</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    class=\"form-control\"\r\n                    id=\"price\"\r\n                    v-model.number=\"tempProduct.price\"\r\n                    placeholder=\"請輸入售價\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <hr />\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"description\" class=\"form-label\">產品描述</label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"description\"\r\n                  v-model=\"tempProduct.description\"\r\n                  placeholder=\"請輸入產品描述\"\r\n                ></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"content\" class=\"form-label\">說明內容</label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"content\"\r\n                  v-model=\"tempProduct.content\"\r\n                  placeholder=\"請輸入產品說明內容\"\r\n                ></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    class=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    :true-value=\"1\"\r\n                    :false-value=\"0\"\r\n                    v-model=\"tempProduct.is_enabled\"\r\n                    id=\"is_enabled\"\r\n                  />\r\n                  <label class=\"form-check-label\" for=\"is_enabled\">\r\n                    是否啟用\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-success\" @click=\"$emit('update-product', tempProduct)\">確認</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from \"@/mixins/modalMixin\";\r\nexport default {\r\n  mixins: [modalMixin],\r\n  props: {\r\n    //接收外層傳入的tempproduct\r\n    product: {\r\n      type: Object,\r\n      default() { return {};}\r\n    }\r\n  },\r\n  //每次傳入新的資料就觸發 將外層資料存成local的tempProduct\r\n  watch: {\r\n    product() {\r\n      this.tempProduct = this.product;\r\n      // 多圖\r\n      if (!this.tempProduct.images) {\r\n        this.tempProduct.images = [];\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      modal: {},\r\n      tempProduct: {}\r\n    };\r\n  },\r\n  methods: {\r\n    uploadFile(){\r\n     // console.log(event.target.value);\r\n      //將檔案取出並變成formdata格式\r\n      const uploadedFile = this.$refs.fileInput.files[0];\r\n      const formData = new FormData;\r\n      //增加表單欄位\r\n      formData.append('file-to-upload', uploadedFile);\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`;\r\n      //上傳後將伺服器回傳的位址存在tempProduct中\r\n      this.$http.post(api, formData)\r\n      .then((res) => {\r\n        if (res.data.success) {\r\n          this.tempProduct.imageUrl = res.data.imageUrl;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>","import { render } from \"./ProductModal.vue?vue&type=template&id=1ef88a1c\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ellen\\\\OneDrive\\\\桌面\\\\vue\\\\ecommerce_vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsAdmin.vue?vue&type=template&id=6608b17b\"\nimport script from \"./ProductsAdmin.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsAdmin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ellen\\\\OneDrive\\\\桌面\\\\vue\\\\ecommerce_vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar TypeError = global.TypeError;\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}