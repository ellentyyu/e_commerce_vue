{"version":3,"sources":["webpack:///./src/views/Admin.vue","webpack:///./src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?bf71","webpack:///./src/views/Admin.vue?21ce"],"names":["class","href","currPage","pageName","logout","inject","methods","api","this","$http","post","then","res","vm","setTimeout","pushMessagesState","data","message","success","$router","push","selectedPage","page","computed","$route","path","__exports__","components","ToastMessages","Navbar","created","token","document","cookie","replace","defaults","headers","common","Authorization","render"],"mappings":"oTACI,eAA+B,GAC/B,eAES,Q,wBADP,iBAA2B,CAA3B,eAA2B,O,kDCF5BA,MAAM,mB,GACJA,MAAM,c,GACJA,MAAM,gE,EACT,eAEI,KAFDC,KAAK,IAAID,MAAM,yE,CAChB,eAAgB,UAAZ,a,MAMAA,MAAM,sB,GACPA,MAAM,kD,GACJA,MAAM,qC,EACT,eAA8B,KAA3BA,MAAM,cAAa,QAAI,G,EAC1B,eAA+C,KAA5CA,MAAM,mCAAiC,S,GAGvCA,MAAM,6B,EACT,eAA+B,KAA5BA,MAAM,gBAAe,OAAG,G,gDAlBrC,eA0BM,MA1BN,EA0BM,CAzBJ,eAwBM,MAxBN,EAwBM,CAvBJ,eAOM,MAPN,EAOM,CANJ,EAGA,eAA6I,KAA1IA,MAAK,gBAAC,mDAAkD,QAA2B,oBAAR,EAAAE,YAA+BD,KAAK,oBAAmB,OAAI,GACzI,eAA4I,KAAzID,MAAK,gBAAC,mDAAkD,QAA2B,mBAAR,EAAAE,YAA8BD,KAAK,mBAAkB,QAAK,GACxI,eAAyI,KAAtID,MAAK,gBAAC,mDAAkD,QAA2B,kBAAR,EAAAE,YAA6BD,KAAK,kBAAiB,OAAI,KAEvI,eAcS,SAdT,EAcS,CAbP,eAUM,MAVN,EAUM,CATJ,eAIM,MAJN,EAIM,CAHJ,EACA,EACA,eAAmB,wBAAd,EAAAE,UAAQ,KAEf,eAGM,MAHN,EAGM,CAFJ,EACA,eAAkE,UAA1DH,MAAM,yBAA0B,QAAK,8BAAE,EAAAI,QAAA,EAAAA,OAAA,sBAAQ,UAI3D,eAAa,0BAOJ,OACbC,OAAQ,CAAC,qBACTC,QAAQ,CACNF,OADM,WACE,WACEG,EAAE,UAAO,uCAAP,WACRC,KAAKC,MAAMC,KAAKH,GACfI,MAAK,SAACC,GACL,IAAIC,EAAK,EACTC,YAAW,WACTD,EAAGE,kBAAkBH,EAAKA,EAAII,KAAKC,YAElCL,EAAII,KAAKE,SACR,EAAKC,QAAQC,KAAK,cAI5BC,aAdM,SAcOC,GACXd,KAAKN,SAAWoB,IAGpBC,SAAU,CACRrB,SADQ,WAEN,OAAOM,KAAKgB,OAAOC,MAErBtB,SAJQ,WAKN,OAAOK,KAAKN,UACZ,IAAK,kBACH,MAAO,OACT,IAAK,iBACH,MAAO,QACT,IAAK,gBACH,MAAO,W,qBCzDf,MAAMwB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS,KAErD,QFGA,GACbC,WAAW,CACTC,gBAAA,KACAC,UAEFC,QALa,WAKH,WAEFC,EAAQC,SAASC,OAAOC,QAAQ,iDAAkD,MACxF1B,KAAKC,MAAM0B,SAASC,QAAQC,OAAOC,cAAgBP,EACnD,IAAMxB,EAAE,UAAO,uCAAP,mBACRC,KAAKC,MAAMC,KAAKH,GACfI,MAAK,SAACC,GACCA,EAAII,KAAKE,SACT,EAAKC,QAAQC,KAAK,eGlB9B,MAAM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASmB,KAErD","file":"js/chunk-2d0b9d35.f45c6356.js","sourcesContent":["<template>\r\n    <ToastMessages></ToastMessages>\r\n    <Navbar>\r\n      <router-view></router-view>\r\n    </Navbar>  \r\n</template>\r\n\r\n<script>\r\nimport ToastMessages from '../components/ToastMessages.vue'\r\nimport Navbar from '../components/Navbar.vue'\r\nexport default {\r\n  components:{\r\n    ToastMessages,\r\n    Navbar,\r\n  },\r\n  created() {\r\n    //將token從cookie中取出 將token夾入headers中 之後每次發送請求會驗證headers中的authorization\r\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\r\n    this.$http.defaults.headers.common.Authorization = token;\r\n    const api = `${process.env.VUE_APP_API}/api/user/check`;\r\n    this.$http.post(api)\r\n    .then((res)=>{\r\n        if(!res.data.success){\r\n            this.$router.push('/login');\r\n        }\r\n    });\r\n  }\r\n}\r\n</script>","<template>\r\n<div class=\"container-fluid \">\r\n  <div class=\"row vh-100\"> \r\n    <nav class=\"admin-nav px-4 col-md-2 d-flex align-items-center d-md-block\">\r\n      <a href=\"#\" class=\"font-logo fs-3 text-white me-4 md-md-0 py-3 mb-md-3 d-none d-ss-block\">\r\n        <h1>Solljus</h1>\r\n      </a>\r\n      <a class=\"admin-nav-link py-3 px-2 px-md-0 pt-md-2 pb-md-3\" :class=\"{'active':currPage==='/admin/products'}\" href=\"#/admin/products\">商品管理</a>\r\n      <a class=\"admin-nav-link py-3 px-2 px-md-0 pt-md-2 pb-md-3\" :class=\"{'active':currPage==='/admin/coupons'}\" href=\"#/admin/coupons\">優惠券管理</a>\r\n      <a class=\"admin-nav-link py-3 px-2 px-md-0 pt-md-2 pb-md-3\" :class=\"{'active':currPage==='/admin/orders'}\" href=\"#/admin/orders\">訂單管理</a>\r\n    </nav>\r\n    <header class=\"col-md-10 bg-white\">\r\n      <div class=\"header-bar py-3 px-2 d-flex align-items-center\">\r\n        <div class=\"d-flex align-items-center me-auto\">\r\n          <p class=\"admin-page\">後台管理</p>\r\n          <i class=\"fas fa-chevron-right fs-xs mx-2\"></i>\r\n          <p>{{pageName}}</p>\r\n        </div>\r\n        <div class=\"d-flex align-items-center\">\r\n          <p class=\"text-success\">登入中</p>\r\n          <button class=\"btn btn-secondary ms-3\" @click=\"logout\">登出</button>\r\n        </div>\r\n      </div>\r\n      <!-- slot 後台替換的內容 -->\r\n      <slot></slot>\r\n    </header>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  inject: ['pushMessagesState'],\r\n  methods:{\r\n    logout(){\r\n        const api = `${process.env.VUE_APP_API}/logout`;\r\n        this.$http.post(api)\r\n        .then((res)=>{\r\n          let vm = this;\r\n          setTimeout(function(){\r\n            vm.pushMessagesState(res, res.data.message);\r\n          });\r\n          if(res.data.success){\r\n              this.$router.push('/login');\r\n          }\r\n        });\r\n    },\r\n    selectedPage(page) {\r\n      this.currPage = page;\r\n    }\r\n  },\r\n  computed: {\r\n    currPage() {\r\n      return this.$route.path;\r\n    },\r\n    pageName() {\r\n      switch(this.currPage) {\r\n      case '/admin/products':\r\n        return '商品管理'\r\n      case '/admin/coupons':\r\n        return '優惠券管理';\r\n      case '/admin/orders':\r\n        return '訂單管理';\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>","import { render } from \"./Navbar.vue?vue&type=template&id=3b3effb8\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ellen\\\\OneDrive\\\\桌面\\\\vue\\\\ecommerce_vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Admin.vue?vue&type=template&id=28105c78\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\ellen\\\\OneDrive\\\\桌面\\\\vue\\\\ecommerce_vue3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}