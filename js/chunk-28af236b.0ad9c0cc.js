(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28af236b"],{"7fd9":function(e,t,c){"use strict";var s=c("7a23"),o={class:"scroll-top position-fixed"};function r(e,t,c,r,a,l){return Object(s["B"])(),Object(s["g"])("div",o,[Object(s["h"])("a",{href:"#",class:"fas fa-caret-up scroll-top-arrow fs-s text-center text-white",onClick:t[0]||(t[0]=Object(s["Y"])((function(){return l.scrollTop&&l.scrollTop.apply(l,arguments)}),["prevent"]))})])}var a={methods:{scrollTop:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}},l=c("6b0d"),b=c.n(l);const n=b()(a,[["render",r]]);t["a"]=n},b0c0:function(e,t,c){var s=c("83ab"),o=c("5e77").EXISTS,r=c("e330"),a=c("9bf2").f,l=Function.prototype,b=r(l.toString),n=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,i=r(n.exec),d="name";s&&!o&&a(l,d,{configurable:!0,get:function(){try{return i(n,b(this))[1]}catch(e){return""}}})},b7c8:function(e,t,c){"use strict";c.r(t);c("b0c0");var s=c("7a23"),o={class:"pt-9 pb-6 order-bg-lightgray container-fluid container-custom"},r={class:"order-three-sqs mb-6"},a={class:"row"},l=Object(s["h"])("div",{class:"col-4"},[Object(s["h"])("div",{class:"sq-item"},[Object(s["h"])("p",null,"STEP 1"),Object(s["h"])("p",null,"確認訂單")])],-1),b={class:"col-4"},n=Object(s["h"])("p",null,"STEP 2",-1),i=Object(s["h"])("p",null,"建立訂單",-1),d=[n,i],j={class:"col-4"},O=Object(s["h"])("p",null,"STEP 3",-1),h=Object(s["h"])("p",null,"完成訂單",-1),u=[O,h],p={key:0,class:"payment-success row justify-content-center mb-5"},f={class:"col-12 col-md-6"},m={class:"payment-success-bg py-5"},g=Object(s["h"])("div",{class:"text-center mb-4"},[Object(s["h"])("h2",{class:"mb-1 fs-5 fw-bold ls-1"},"感謝您的訂購"),Object(s["h"])("p",{class:"fw-bold ls-1"},[Object(s["j"])("訂單為您盡速處理中"),Object(s["h"])("i",{class:"ms-2 fas fa-shipping-fast"})])],-1),v={class:"d-flex justify-content-center"},w=Object(s["j"])("回到首頁"),y=Object(s["j"])("繼續逛逛"),k={class:"order-placed row justify-content-center"},x={class:"col-12 col-md-6"},M={key:0},S=Object(s["h"])("h1",{class:"header"},"訂購資訊",-1),T={class:"order-details px-1 px-sm-0"},_={class:"d-flex mb-3"},B=Object(s["h"])("p",{class:"col-4 fw-bold"},"下單日期：",-1),L={class:"d-flex mb-3"},I=Object(s["h"])("p",{class:"col-4 fw-bold"},"訂單編號：",-1),J={class:"text-break"},$={class:"d-flex mb-3"},q=Object(s["h"])("p",{class:"col-4 fw-bold"},"顧客姓名：",-1),C={class:"d-flex mb-3"},D=Object(s["h"])("p",{class:"col-4 fw-bold"},"聯絡電話：",-1),E={class:"d-flex mb-3"},H=Object(s["h"])("p",{class:"col-4 fw-bold"},"電子郵件：",-1),P={class:"text-break"},V={class:"d-flex mb-3"},Y=Object(s["h"])("p",{class:"col-4 fw-bold"},"收件地址：",-1),F={key:0,class:"d-flex mb-3"},N=Object(s["h"])("p",{class:"col-4 fw-bold"},"備註：",-1),U={class:"d-flex mb-3 align-items-center"},X=Object(s["h"])("p",{class:"col-4 fw-bold"},"訂單金額：",-1),z=Object(s["h"])("p",{class:"fw-bold mb-3"},"訂單明細：",-1),A={class:"px-2 px-sm-4"},G={class:"col-auto d-none d-ss-block"},K={class:"col"},Q={class:"mb-1"},R={class:""},W={class:"col-auto col-sm-3"},Z={class:""},ee={class:"d-flex mb-3"},te=Object(s["h"])("p",{class:"col-4 fw-bold"},"付款狀態：",-1),ce={key:0,class:"text-primary"},se={key:1,class:"text-success"};function oe(e,t,c,n,i,O){var h=this,oe=Object(s["J"])("Loading"),re=Object(s["J"])("ToastMessages"),ae=Object(s["J"])("router-link"),le=Object(s["J"])("Layout"),be=Object(s["J"])("ScrollTop");return Object(s["B"])(),Object(s["g"])(s["a"],null,[Object(s["k"])(oe,{active:i.isLoading},null,8,["active"]),Object(s["k"])(re),Object(s["k"])(le,{ref:"layout"},{default:Object(s["V"])((function(){return[Object(s["h"])("div",o,[Object(s["h"])("section",r,[Object(s["h"])("div",a,[l,Object(s["h"])("div",b,[Object(s["h"])("div",{class:Object(s["s"])(["sq-item",{active:!i.order.is_paid}])},d,2)]),Object(s["h"])("div",j,[Object(s["h"])("div",{class:Object(s["s"])(["sq-item",{active:i.order.is_paid}])},u,2)])])]),i.order.is_paid?(Object(s["B"])(),Object(s["g"])("section",p,[Object(s["h"])("div",f,[Object(s["h"])("div",m,[g,Object(s["h"])("div",v,[Object(s["k"])(ae,{to:"/",class:"col-5 col-sm-3 mx-3 btn-back-home"},{default:Object(s["V"])((function(){return[w]})),_:1}),Object(s["k"])(ae,{to:"/products",class:"col-5 col-sm-3 mx-3 btn-back-shop"},{default:Object(s["V"])((function(){return[y]})),_:1})])])])])):Object(s["f"])("",!0),Object(s["h"])("section",k,[Object(s["h"])("div",x,[i.order.user?(Object(s["B"])(),Object(s["g"])("div",M,[S,Object(s["h"])("ul",T,[Object(s["h"])("li",_,[B,Object(s["h"])("p",null,Object(s["M"])(i.order.create_at),1)]),Object(s["h"])("li",L,[I,Object(s["h"])("p",J,Object(s["M"])(i.order.id),1)]),Object(s["h"])("li",$,[q,Object(s["h"])("p",null,Object(s["M"])(i.order.user.name),1)]),Object(s["h"])("li",C,[D,Object(s["h"])("p",null,Object(s["M"])(i.order.user.tel),1)]),Object(s["h"])("li",E,[H,Object(s["h"])("p",P,Object(s["M"])(i.order.user.email),1)]),Object(s["h"])("li",V,[Y,Object(s["h"])("p",null,Object(s["M"])(i.order.user.address),1)]),i.order.message?(Object(s["B"])(),Object(s["g"])("li",F,[N,Object(s["h"])("p",null,Object(s["M"])(i.order.message),1)])):Object(s["f"])("",!0),Object(s["h"])("li",null,[Object(s["h"])("div",U,[X,Object(s["h"])("p",null,"NT$ "+Object(s["M"])(O.currency(i.order.total)),1),Object(s["h"])("a",{href:"#",class:Object(s["s"])(["ms-4 px-3 fs-5 fas fa-chevron-circle-down",{show:i.isShow}]),onClick:t[0]||(t[0]=Object(s["Y"])((function(e){return i.isShow=!i.isShow}),["prevent"]))},null,2)]),Object(s["h"])("div",{class:"products-details",ref:"details",style:Object(s["t"])(O.detailsHeight)},[z,Object(s["h"])("ul",A,[(Object(s["B"])(!0),Object(s["g"])(s["a"],null,Object(s["H"])(i.order.products,(function(e){return Object(s["B"])(),Object(s["g"])("li",{key:e.id,class:"mb-3 row g-3 align-items-center"},[Object(s["h"])("div",G,[Object(s["h"])("div",{class:"bg-cover order-img",style:Object(s["t"])("background-image:url(".concat(O.getImgUrl(e.product.images[0]),");"))},null,4)]),Object(s["h"])("div",K,[Object(s["h"])("p",Q,Object(s["M"])(e.product.title),1),Object(s["h"])("p",R,"數量 : "+Object(s["M"])(e.qty),1)]),Object(s["h"])("div",W,[Object(s["h"])("p",Z,"NT$ "+Object(s["M"])(O.currency(e.total)),1)])])})),128))])],4)]),Object(s["h"])("li",ee,[te,i.order.is_paid?Object(s["f"])("",!0):(Object(s["B"])(),Object(s["g"])("p",ce,"尚未付款")),i.order.is_paid?(Object(s["B"])(),Object(s["g"])("p",se,"付款成功")):Object(s["f"])("",!0)])]),i.order.is_paid?Object(s["f"])("",!0):(Object(s["B"])(),Object(s["g"])("button",{key:0,class:"btn btn-payment w-100 mt-3",type:"button",onClick:t[1]||(t[1]=function(){return O.payOrder&&O.payOrder.apply(O,arguments)})},"確認結帳")),i.order.is_paid?Object(s["f"])("",!0):(Object(s["B"])(),Object(s["g"])("button",{key:1,class:"btn btn-goback w-100 mt-3",type:"button",onClick:t[2]||(t[2]=function(e){return h.$router.back()})},"回上一頁"))])):Object(s["f"])("",!0)])])])]})),_:1},512),Object(s["k"])(be)],64)}c("99af");var re=c("7fd9"),ae=c("f367"),le=c("9bb9"),be={components:{ScrollTop:re["a"],ToastMessages:ae["a"]},inject:["pushMessagesState"],data:function(){return{isShow:!1,isLoading:!1,order:{}}},methods:{currency:le["a"],getOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("a93a93","/order/").concat(this.orderId);this.isLoading=!0,this.$http.get(t).then((function(t){e.isLoading=!1,t.data.success&&(e.order=t.data.order,e.order.total=Math.round(e.order.total),e.order.create_at=e.processDate(e.order.create_at))})).catch((function(e){console.error(e)}))},getImgUrl:function(e){return c("34fe")("./"+e)},processDate:function(e){var t=new Date(1e3*e),c=t.getFullYear(),s=t.getMonth()+1,o=t.getDate();return"".concat(c,"-").concat(s,"-").concat(o)},payOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("a93a93","/pay/").concat(this.orderId);this.isLoading=!0,this.$http.post(t).then((function(t){e.isLoading=!1,e.pushMessagesState(t,t.data.message),t.data.success&&(e.getOrder(),window.scrollTo({top:0,behavior:"smooth"}))})).catch((function(e){console.error(e)}))}},computed:{detailsHeight:function(){return{"max-height":this.isShow?"".concat(this.$refs.details.scrollHeight,"px"):"0"}},orderId:function(){return this.$route.params.orderId}},created:function(){this.getOrder()}},ne=c("6b0d"),ie=c.n(ne);const de=ie()(be,[["render",oe]]);t["default"]=de}}]);
//# sourceMappingURL=chunk-28af236b.0ad9c0cc.js.map